(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{62439:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return he}});var t=r(85893),a=(r(67294),r(9008)),o=(r(15791),r(3926),r(12936)),c=r(28858),s=r(14890),u=(r(28500),r(30797)),i=r(26265),d=r(76915),p=r(96598);function f(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var l=(0,s.UY)({index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case c.ju:return console.log("hydrate-------------------\n",c.ju,n),g(g({},e),n.payload);default:return e}},user:d.ZP,post:p.ZP}),m=r(809),E=r.n(m),v=r(34857),x=r(9669),k=r.n(x),w=(r(14670),E().mark(F)),_=E().mark(C),O=E().mark(A),h=E().mark(N),S=E().mark(I),U=E().mark(M),b=E().mark(D),L=E().mark(T),y=E().mark(z);function F(e){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.gw)(1e3);case 3:return e.next=5,(0,v.gz)({type:p.YQ,data:(0,p.nk)(10)});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,(0,v.gz)({type:p.rl,error:e.t0.response.data});case 11:case"end":return e.stop()}}),w,null,[[0,7]])}function P(e){return k().post("/post",{content:e})}function C(e){var n;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,v.RE)(P,e.data);case 3:return n=r.sent,console.log(n),r.next=7,(0,v.gz)({type:p._s,data:n.data});case 7:return r.next=9,(0,v.gz)({type:d.x6,data:n.data.id});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,(0,v.gz)({type:p.tP,error:r.t0.response.data});case 15:case"end":return r.stop()}}),_,null,[[0,11]])}function A(e){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(e.data),n.next=4,(0,v.gw)(1e3);case 4:return n.next=6,(0,v.gz)({type:p.rK,data:e.data});case 6:return n.next=8,(0,v.gz)({type:d.KK,data:e.data});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,(0,v.gz)({type:p.Ws,error:n.t0.response.data});case 14:case"end":return n.stop()}}),O,null,[[0,10]])}function R(e){return k().post("/post/".concat(e.postId,"/comment"),e)}function N(e){var n;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,v.RE)(R,e.data);case 3:return n=r.sent,console.log(n.data),r.next=7,(0,v.gz)({type:p.nv,data:n.data});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,(0,v.gz)({type:p.rX,error:r.t0.response.data});case 13:case"end":return r.stop()}}),h,null,[[0,9]])}function I(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(p.EG,F);case 2:case"end":return e.stop()}}),S)}function M(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(p.z9,C);case 2:case"end":return e.stop()}}),U)}function D(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(p.Ot,N);case 2:case"end":return e.stop()}}),b)}function T(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(p.HU,A);case 2:case"end":return e.stop()}}),L)}function z(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.$6)([(0,v.rM)(I),(0,v.rM)(M),(0,v.rM)(D),(0,v.rM)(T)]);case 2:case"end":return e.stop()}}),y)}var j=E().mark(re),G=E().mark(ae),K=E().mark(ce),Z=E().mark(ue),Q=E().mark(ie),V=E().mark(de),W=E().mark(pe),q=E().mark(fe),B=E().mark(ge),H=E().mark(le),X=E().mark(me),Y=E().mark(Ee),J=E().mark(ve),$=E().mark(xe),ee=E().mark(ke);function ne(e){return k().get("/user",e)}function re(e){var n;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,v.RE)(ne,e.data);case 3:return n=r.sent,r.next=6,(0,v.gz)({type:d.LJ,data:n.data});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,(0,v.gz)({type:d.Cq,error:r.t0.response.data});case 12:case"end":return r.stop()}}),j,null,[[0,8]])}function te(e){return k().post("/user/login",e)}function ae(e){var n;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,v.RE)(te,e.data);case 3:return n=r.sent,r.next=6,(0,v.gz)({type:d.RZ,data:n.data});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,(0,v.gz)({type:d.yK,error:r.t0.response.data});case 12:case"end":return r.stop()}}),G,null,[[0,8]])}function oe(){return k().post("/user/logout")}function ce(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.RE)(oe);case 3:return e.next=5,(0,v.gz)({type:d.kV});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,(0,v.gz)({type:d.mD,error:e.t0.response.data});case 11:case"end":return e.stop()}}),K,null,[[0,7]])}function se(e){return k().post("/user",e)}function ue(e){var n;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e.data),r.next=4,(0,v.RE)(se,e.data);case 4:return n=r.sent,console.log(n),r.next=8,(0,v.gz)({type:d.I,data:n.data});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,(0,v.gz)({type:d.bP,error:r.t0.response.data});case 14:case"end":return r.stop()}}),Z,null,[[0,10]])}function ie(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.gw)(1e3);case 3:return e.next=5,(0,v.gz)({type:d.dr});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,(0,v.gz)({type:d.PG,error:e.t0.response.data});case 11:case"end":return e.stop()}}),Q,null,[[0,7]])}function de(e){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,v.gw)(1e3);case 3:return n.next=5,(0,v.gz)({type:d.mv,data:e.data});case 5:n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,(0,v.gz)({type:d.DG,error:n.t0.response.data});case 11:case"end":return n.stop()}}),V,null,[[0,7]])}function pe(e){return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,v.gw)(1e3);case 3:return n.next=5,(0,v.gz)({type:d.D7,data:e.data});case 5:n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,(0,v.gz)({type:d.OR,error:n.t0});case 11:case"end":return n.stop()}}),W,null,[[0,7]])}function fe(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(d.qq,re);case 2:case"end":return e.stop()}}),q)}function ge(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(d.uF,ae);case 2:case"end":return e.stop()}}),B)}function le(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(d.Xd,ce);case 2:case"end":return e.stop()}}),H)}function me(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(d.pK,ue);case 2:case"end":return e.stop()}}),X)}function Ee(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(d.o,ie);case 2:case"end":return e.stop()}}),Y)}function ve(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(d.U_,de);case 2:case"end":return e.stop()}}),J)}function xe(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Fm)(d.Bk,pe);case 2:case"end":return e.stop()}}),$)}function ke(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.$6)([(0,v.rM)(fe),(0,v.rM)(ge),(0,v.rM)(le),(0,v.rM)(me),(0,v.rM)(Ee),(0,v.rM)(xe),(0,v.rM)(ve)]);case 2:case"end":return e.stop()}}),ee)}var we=E().mark(_e);function _e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.$6)([(0,v.rM)(ke),(0,v.rM)(z)]);case 2:case"end":return e.stop()}}),we)}k().defaults.baseURL="http://localhost:3065",k().defaults.withCredentials=!0;var Oe=function(e){var n=e.dispatch,r=e.getState;return function(e){return function(t){return console.log(t),console.log(n),console.log(r),e(t)}}},he=(0,c.KV)((function(){var e=(0,u.ZP)(),n=[e,Oe],r=(0,s.qC)(s.md.apply(void 0,n)),t=(0,s.MT)(l,r);return t.sagaTask=e.run(_e),t}),{debug:!1}).withRedux((0,o.Z)((function(e){var n=e.Component;return(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsxs)(a.default,{children:[(0,t.jsx)("meta",{charSet:"utf-8"}),(0,t.jsx)("title",{children:"NodeBird"})]}),(0,t.jsx)(n,{})]})})))},96598:function(e,n,r){"use strict";r.d(n,{nk:function(){return i},EG:function(){return d},YQ:function(){return p},rl:function(){return f},z9:function(){return g},_s:function(){return l},tP:function(){return m},HU:function(){return E},rK:function(){return v},Ws:function(){return x},Ot:function(){return k},nv:function(){return w},rX:function(){return _},Lz:function(){return O},BZ:function(){return h},Pc:function(){return S},VE:function(){return U}});var t=r(14670),a=r.n(t),o=r(18172),c=r(85384),s=r.n(c),u={mainPosts:[],imagePaths:[],hasMorePosts:!0,postLoading:!1,postLoaded:!1,postAdding:!1,postAdded:!1,postRemoving:!1,postRemoved:!1,commentAdding:!1,commentAdded:!1,actionError:null},i=function(e){return Array(e).fill().map((function(){return{id:a().generate(),User:{id:a().generate(),nickname:s().name.findName()},content:s().lorem.paragraph(),Images:[{src:s().image.image()}],Comments:[{User:{id:a().generate(),nickname:s().name.findName()},content:s().lorem.sentence()}]}}))},d="LOAD_POST_REQUEST",p="LOAD_POST_SUCCESS",f="LOAD_POST_FAILURE",g="ADD_POST_REQUEST",l="ADD_POST_SUCCESS",m="ADD_POST_FAILURE",E="REMOVE_POST_REQUEST",v="REMOVE_POST_SUCCESS",x="REMOVE_POST_FAILURE",k="ADD_COMMENT_REQUEST",w="ADD_COMMENT_SUCCESS",_="ADD_COMMENT_FAILURE",O=function(e){return{type:d,data:e}},h=function(e){return{type:g,data:e}},S=function(e){return{type:k,data:e}},U=function(e){return{type:E,data:e}};n.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments.length>1?arguments[1]:void 0;return(0,o.ZP)(e,(function(e){switch(n.type){case d:e.postLoading=!0,e.postLoadded=!1,e.actionError=null;break;case p:e.postLoading=!1,e.postLoadded=!0,e.mainPosts=e.mainPosts.concat(n.data),e.hasMorePosts=e.mainPosts.length<50;break;case f:e.postLoading=!1,e.postLoadded=!1,e.actionError=n.error;break;case g:e.postAdding=!0,e.postAdded=!1,e.actionError=null;break;case l:e.postAdding=!1,e.postAdded=!0,e.mainPosts.unshift(n.data);break;case m:e.postAdding=!1,e.postAdded=!1,e.actionError=n.error;break;case E:e.postRemoving=!0,e.postRemoved=!1,e.actionError=null;break;case v:e.postRemoving=!1,e.postRemoved=!0,e.mainPosts=e.mainPosts.filter((function(e){return e.id!==n.data}));break;case x:e.postRemoving=!1,e.postRemoved=!1,e.actionError=n.arror;break;case k:e.commentAdding=!0,e.commentAdded=!1,e.actionError=null;break;case w:e.commentAdding=!1,e.commentAdded=!0,e.mainPosts.find((function(e){return e.id===n.data.PostId})).Comments.unshift(n.data);break;case _:e.commentAdding=!1,e.commentAdded=!1,e.actionError=n.error}}))}},76915:function(e,n,r){"use strict";r.d(n,{qq:function(){return o},LJ:function(){return c},Cq:function(){return s},pK:function(){return u},I:function(){return i},bP:function(){return d},uF:function(){return p},RZ:function(){return f},yK:function(){return g},Xd:function(){return l},kV:function(){return m},mD:function(){return E},U_:function(){return k},mv:function(){return w},DG:function(){return _},Bk:function(){return O},D7:function(){return h},OR:function(){return S},o:function(){return U},dr:function(){return b},PG:function(){return L},x6:function(){return y},KK:function(){return F},JE:function(){return P},tP:function(){return C},vR:function(){return A},OC:function(){return R},Zr:function(){return N},Ho:function(){return I}});var t=r(18172),a={loadingUser:!1,loadedUser:!1,isSigningUp:!1,isSignedUp:!1,isSigningOut:!1,isLoggingIn:!1,isLoggedIn:!1,isLoggingOut:!1,isFollowing:!1,isFollowed:!1,isUnfollowing:!1,isNickChanging:!1,isNickChanged:!1,me:null,actionError:null,visible:!1,signUpData:{},loginData:{}},o="LOAD_MY_INFO_REQUEST",c="LOAD_MY_INFO_SUCCESS",s="LOAD_MY_INFO_FAILURE",u="SIGN_UP_REQUEST",i="SIGN_UP_SUCCESS",d="SIGN_UP_FAILURE",p="LOG_IN_REQUEST",f="LOG_IN_SUCCESS",g="LOG_IN_FAILURE",l="LOG_OUT_REQUEST",m="LOG_OUT_SUCCESS",E="LOG_OUT_FAILURE",v="VISIBLE_ON",x="VISIBLE_OFF",k="FOLLOW_REQUEST",w="FOLLOW_SUCCESS",_="FOLLOW_FAILURE",O="UNFOLLOW_REQUEST",h="UNFOLLOW_SUCCESS",S="UNFOLLOW_FAILURE",U="CHANGE_NICKNAME_SUCCESS",b="CHANGE_NICKNAME_SUCCESS",L="CHANGE_NICKNAME_FAILURE",y="ADD_POST_TO_ME",F="REMOVE_POST_OF_ME",P=function(e){return{type:u,data:e}},C=function(e){return{type:p,data:e}},A=function(e){return{type:l,data:e}},R=function(e){return{type:v,data:e}},N=function(e){return{type:x,data:e}},I=function(e){return{type:o,data:e}};n.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0;return(0,t.ZP)(e,(function(e){switch(n.type){case o:e.loadingUser=!0,e.loadedUser=!1,e.actionError=null;break;case c:e.loadingUser=!1,e.loadedUser=!0,e.me=n.data;break;case s:e.loadingUser=!1,e.loadedUser=!1,e.actionError=n.error;break;case u:e.isSigningUp=!0,e.isSignedUp=!1,e.actionError=null;break;case i:e.isSigningUp=!1,e.isSignedUp=!0,e.me=null;break;case d:e.isSigningUp=!1,e.isSignedUp=!1,e.actionError=n.error;break;case p:e.isLoggingIn=!0,e.isLoggedIn=!1;break;case f:e.isLoggingIn=!1,e.isLoggedIn=!0,e.me=n.data;break;case g:e.isLoggingIn=!1,e.isLoggedIn=!1,e.actionError=n.error;break;case l:e.isLoggingOut=!0,e.isLoggedin=!1,e.actionError=null;break;case m:e.isLoggingOut=!1,e.isLoggedin=!1,e.me=null;break;case E:e.isLoggingOut=!1,e.isLoggedin=!1,e.actionError=n.error;break;case U:e.isNickChanging=!0,e.isNickChanged=!1,e.actionError=null;break;case b:e.isNickChanging=!1,e.isNickChanged=!0,e.me=n.data;break;case L:e.isNickChanging=!1,e.isNickChanged=!1,e.actionError=n.error;break;case k:e.isFollowing=!0,e.isFollowed=!1,e.actionError=null;break;case w:e.isFollowing=!1,e.isFollowed=!0,e.me.Followings.push({id:n.data});break;case _:e.isFollowing=!1,e.isFollowed=!1,e.actionError=n.error;break;case O:e.isUnFollowing=!0,e.isFollowed=!0,e.actionError=null;break;case h:e.isUnFollowing=!1,e.isFollowed=!1,e.me.Followings=e.me.Followings.filter((function(e){return e.id!==n.data}));break;case S:e.isUnFollowing=!1,e.isFollowed=!0,e.actionError=n.error;break;case y:e.me.Posts.unshift({id:n.data});break;case F:e.me.Posts=e.me.Posts.filter((function(e){return e.id!==n.data}));break;case v:e.visible=!0;break;case x:e.visible=!1}}))}},81780:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(62439)}])},3926:function(){}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[774,43,996,351,96,794,494],(function(){return n(81780),n(72441)}));var r=e.O();_N_E=r}]);