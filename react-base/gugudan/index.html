<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div> 
  <!-- 결과: <div id="root"><button>Like</button></div> -->
  <script type="text/babel">
  // 바벨을 이용하자. XML의 특징 -> 단 열었던 태그는 잘 닫아줘야 작동된다.
    
    class Gugudan extends React.Component {
      constructor(props){
        super(props);
        this.state = {
          first: Math.ceil(Math.random() *9),
          second: Math.ceil(Math.random() *9),
          value: '',
          result: '',
          user: '',          
        };
      }

      // 화살표를 사용했을 때 this와 function의 this가 다르다.
      // 
      onSubmit = (e) => {
        e.preventDefault();
        console.log(this);
        if (parseInt(this.state.value) === this.state.first * this.state.second) {
          this.setState({
            result: '정답',
            first: Math.ceil(Math.random()* 9),
            second: Math.ceil(Math.random() * 9),
            user: this.state.value,
            value: ''
          })
        } else {
          this.setState({
            result: "땡",
            user: this.state.value,
            value: '',
          });
        }
      };
     
      onChange = (e) => this.setState({value: e.target.value})

      render() { 
        // () 괄호 그룹연산자
        return (
          <React.Fragment>
            <div>{this.state.first} 곱하기 {this.state.second}는?</div>
            <form onSubmit={this.onSubmit}>
              <input type='number' value={this.state.value} onChange={this.onChange}/>
              <button>입력</button>
            </form>              
            <div>
              { this.state.user} { this.state.result}
            </div>
               
          </React.Fragment>
          // <></>(fragment) 바벨이 지원을 안해서 react.fragment를 입력 원래는 <></>를 이용해서 div의 반복을 줄이자.
        );
      }
    }
    // 바뀔 여지가 있는 부분을 상태(state)라고 한다.
  </script>
  <script type="text/babel">
    ReactDOM.render(
      <>
        <Gugudan />       
        
      </>, 
      document.querySelector('#root')); // 이런 원리로 작동됨
  </script>
</body>
</html>